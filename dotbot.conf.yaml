- defaults:
    link:
      relink: true

- create:
    - ~/.config/nvim

- link:
    ~/.config/nvim/:
        if: '[ -x "$(command -v nvim)" ]'
        glob: true
        path: dotfiles/nvim/*.vim
        force: true
    ~/.zshrc:
        if: '[ -x "$(command -v zsh)" ]'
        path: dotfiles/.zshrc
        force: true
    ~/.p10k.zsh:
        if: '[ -x "$(command -v zsh)" ]'
        path: dotfiles/.p10k.zsh
        force: true
    ~/.tmux.conf:
        if: '[ -x "$(command -v tmux)" ]'
        path: dotfiles/.tmux.conf
    ~/.gtkrc-2.0:
        path: dotfiles/.gtkrc-2.0
    ~/.config/gtk-3.0:
        path: dotfiles/gtk-3.0
        force: true
    ~/.Xresources:
        path: dotfiles/.Xresources
    ~/scripts:
    ~/wallpapers:
    # Keyboard remapping config
    ~/.xkb:
        path: dotfiles/.xkb
    # Desktop environment config follows
    ~/.xmonad:
        path: dotfiles/.xmonad
    ~/.stalonetrayrc:
        path: dotfiles/.stalonetrayrc
    ~/.xmobarrc:
        path: dotfiles/.xmobarrc
    ~/.xsessionrc:
        path: dotfiles/.xsessionrc

- shell:
    - [tmux &, "Starting tmux for the first time"]
    - [tmux source ~/.tmux.conf, "Sourcing tmux config for the first time - to boostrap TPM"]
    - [~/.tmux/plugins/tpm/scripts/install_plugins.sh, "Installing TPM-managed plugins"]
    - [sudo update-alternatives --set x-terminal-emulator /usr/bin/urxvt , "Update terminal emulator to urxvt."]
