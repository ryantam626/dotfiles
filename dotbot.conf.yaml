- defaults:
    link:
      relink: true

- clean: ['~']

- create:
    - ~/.config/nvim

- link:
    ~/.config/nvim/:
        if: '[ -x "$(command -v nvim)" ]'
        glob: true
        path: dotfiles/nvim/*.vim
    ~/.zshrc:
        if: '[ -x "$(command -v zsh)" ]'
        path: dotfiles/.zshrc
    ~/.p10k.zsh:
        if: '[ -x "$(command -v zsh)" ]'
        path: dotfiles/.p10k.zsh
    ~/.tmux.conf:
        if: '[ -x "$(command -v tmux)" ]'
        path: dotfiles/.tmux.conf


- shell:
    - [tmux source ~/.tmux.conf, "Sourcing tmux config for the first time - to boostrap TPM"]
    - [~/.tmux/plugins/tpm/scripts/install_plugins.sh, "Installing TPM-managed plugins"]
